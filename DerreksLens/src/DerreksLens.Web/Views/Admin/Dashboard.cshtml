@using DerreksLens.Core.Domain.Entities
@using DerreksLens.Core.Domain.Enums
@model IEnumerable<Post>
@{
    ViewData["Title"] = "Admin Dashboard";
}

<div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-bold text-white">Dashboard</h1>
    <a asp-action="Create" class="bg-accent text-background font-bold px-4 py-2 rounded hover:bg-sky-400 transition-colors">
        + New Post
    </a>
</div>

<div class="bg-secondary/30 rounded-lg border border-secondary overflow-hidden">
    <table class="min-w-full divide-y divide-secondary">
        <thead class="bg-secondary/50">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Title</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Date</th>
                <th class="px-6 py-3 text-right text-xs font-medium text-slate-400 uppercase tracking-wider">Actions</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-secondary">
            @foreach (var item in Model)
            {
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-white">@item.Title</div>
                        <div class="text-xs text-slate-500">/@item.Slug</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                                @(item.Status == PostStatus.Published ? "bg-green-100 text-green-800" : "bg-yellow-100 text-yellow-800")">
                            @item.Status
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-400">
                        @item.CreatedAt.ToString("MMM dd, yyyy")
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <a asp-action="Edit" asp-route-id="@item.Id" class="text-accent hover:text-sky-300 mr-4">Edit</a>
                        <form asp-action="Delete" asp-route-id="@item.Id" method="post" class="inline" onsubmit="return confirm('Delete this post?');">
                            <button type="submit" class="text-danger hover:text-red-400">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>